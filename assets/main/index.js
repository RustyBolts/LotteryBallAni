System.register("chunks:///main.js",["cc"],(function(){var t,e,n,o,i,r,l,s,a,c,u,h,p,g,d,f,C,m,b,v,L,y,M,T,E,S,I,w;return{setters:[function(A){t=A.cclegacy,e=A._decorator,n=A.Node,o=A.Canvas,i=A.UITransform,r=A.instantiate,l=A.Label,s=A.Color,a=A.RichText,c=A.Toggle,u=A.Button,h=A.director,p=A.Component,g=A.CCInteger,d=A.Collider2D,f=A.Contact2DType,C=A.PhysicsSystem2D,m=A.RigidBody2D,b=A.randomRangeInt,v=A.CircleCollider2D,L=A.v2,y=A.PhysicsGroup,M=A.PolygonCollider2D,T=A.Vec2,E=A.tween,S=A.Sprite,I=A.v3,w=A.Tween}],execute:function(){function A(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,x(t,e)}function x(t,e){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function B(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N(t,e,n,o){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function z(t,e,n,o,i){var r={};return Object.keys(o).forEach((function(t){r[t]=o[t]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce((function(n,o){return o(t,e,n)||n}),r),i&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(i):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}var D,P,_,F,R,k,O,V,G;t._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var U,W,j,H,K,q,J,X=e.ccclass,Y=e.property;D=X("internal.DebugViewRuntimeControl"),P=Y(n),_=Y(n),F=Y(n),D((O=z((k=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return N(e=t.call.apply(t,[this].concat(o))||this,"compositeModeToggle",O,B(e)),N(e,"singleModeToggle",V,B(e)),N(e,"EnableAllCompositeModeButton",G,B(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[s.WHITE,s.BLACK,s.RED,s.GREEN,s.BLUE],e}A(e,t);var n=e.prototype;return n.start=function(){if(this.node.parent.getComponent(o)){var t=this.node.parent.getComponent(i),e=.5*t.width,n=.5*t.height,h=.1*e-e,p=n-.1*n,g=this.node.getChildByName("MiscMode"),d=r(g);d.parent=this.node,d.name="Buttons";var f=r(g);f.parent=this.node,f.name="Titles";for(var C=0;C<2;C++){var m=r(this.EnableAllCompositeModeButton.getChildByName("Label"));m.setPosition(h+(C>0?450:150),p,0),m.setScale(.75,.75,.75),m.parent=f;var b=m.getComponent(l);b.string=C?"----------Composite Mode----------":"----------Single Mode----------",b.color=s.WHITE,b.overflow=0,this.labelComponentList[this.labelComponentList.length]=b}p-=20;for(var v=0,L=0;L<this.strSingle.length;L++,v++){L===this.strSingle.length>>1&&(h+=200,v=0);var y=L?r(this.singleModeToggle):this.singleModeToggle;y.setPosition(h,p-20*v,0),y.setScale(.5,.5,.5),y.parent=this.singleModeToggle.parent;var M=y.getComponentInChildren(a);M.string=this.strSingle[L],this.textComponentList[this.textComponentList.length]=M,this.textContentList[this.textContentList.length]=M.string,y.on(c.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[L]=y}h+=200,this.EnableAllCompositeModeButton.setPosition(h+15,p,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(u.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=d;var T=this.EnableAllCompositeModeButton.getComponentInChildren(l);this.labelComponentList[this.labelComponentList.length]=T;var E=r(this.EnableAllCompositeModeButton);E.setPosition(h+90,p,0),E.setScale(.5,.5,.5),E.on(u.EventType.CLICK,this.changeTextColor,this),E.parent=d,(T=E.getComponentInChildren(l)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=T;var S=r(this.EnableAllCompositeModeButton);S.setPosition(h+200,p,0),S.setScale(.5,.5,.5),S.on(u.EventType.CLICK,this.hideUI,this),S.parent=this.node.parent,(T=S.getComponentInChildren(l)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=T,this.hideButtonLabel=T,p-=40;for(var I=0;I<this.strMisc.length;I++){var w=r(this.compositeModeToggle);w.setPosition(h,p-20*I,0),w.setScale(.5,.5,.5),w.parent=g;var A=w.getComponentInChildren(a);A.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=A,this.textContentList[this.textContentList.length]=A.string,w.getComponent(c).isChecked=!!I,w.on(c.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=w}p-=150;for(var x=0;x<this.strComposite.length;x++){var B=x?r(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(h,p-20*x,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var N=B.getComponentInChildren(a);N.string=this.strComposite[x],this.textComponentList[this.textComponentList.length]=N,this.textContentList[this.textContentList.length]=N.string,B.on(c.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[x]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},n.isTextMatched=function(t,e){var n=new String(t),o=n.search(">");return-1===o?t===e:(n=(n=n.substr(o+1)).substr(0,n.search("<")))===e},n.toggleSingleMode=function(t){for(var e=h.root.debugView,n=t.getComponentInChildren(a),o=0;o<this.strSingle.length;o++)this.isTextMatched(n.string,this.strSingle[o])&&(e.singleMode=o)},n.toggleCompositeMode=function(t){for(var e=h.root.debugView,n=t.getComponentInChildren(a),o=0;o<this.strComposite.length;o++)this.isTextMatched(n.string,this.strComposite[o])&&e.enableCompositeMode(o,t.isChecked)},n.toggleLightingWithAlbedo=function(t){h.root.debugView.lightingWithAlbedo=t.isChecked},n.toggleCSMColoration=function(t){h.root.debugView.csmLayerColoration=t.isChecked},n.enableAllCompositeMode=function(t){var e=h.root.debugView;e.enableAllCompositeMode(!0);for(var n=0;n<this.compositeModeToggleList.length;n++){this.compositeModeToggleList[n].getComponent(c).isChecked=!0}var o=this.miscModeToggleList[0].getComponent(c);o.isChecked=!1,e.csmLayerColoration=!1,(o=this.miscModeToggleList[1].getComponent(c)).isChecked=!0,e.lightingWithAlbedo=!0},n.hideUI=function(t){var e=this.node.getChildByName("Titles"),n=!e.active;this.singleModeToggleList[0].parent.active=n,this.miscModeToggleList[0].parent.active=n,this.compositeModeToggleList[0].parent.active=n,this.EnableAllCompositeModeButton.parent.active=n,e.active=n,this.hideButtonLabel.string=n?"Hide UI":"Show UI"},n.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var n=0;n<this.labelComponentList.length;n++)this.labelComponentList[n].color=this.color[this._currentColorIndex]},n.onLoad=function(){},n.update=function(t){},e}(p)).prototype,"compositeModeToggle",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=z(k.prototype,"singleModeToggle",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=z(k.prototype,"EnableAllCompositeModeButton",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=k));t._RF.pop(),t._RF.push({},"99100wS6DlLk6Y3PUv5z6rh","CircleNode",void 0);var Z,Q,$,tt,et,nt=e.ccclass,ot=e.property,it=(U=nt("CircleNode"),W=ot(n),j=ot(g),U((q=z((K=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return N(e=t.call.apply(t,[this].concat(o))||this,"ballLayout",q,B(e)),N(e,"startNum",J,B(e)),e.defaultGroup=y.DEFAULT,e.selectedList=[],e}A(e,t);var n=e.prototype;return n.start=function(){var t=this.getComponent(d);t&&t.on(f.BEGIN_CONTACT,this.onBeginContact,this),C.instance&&C.instance.on(f.BEGIN_CONTACT,this.onBeginContact,this);var e=this.startNum;this.ballLayout.getComponentsInChildren(l).forEach((function(t){t.string=e.toString(),e++})),this.defaultGroup=this.ballLayout.children[0].getComponent(d).group},n.onBeginContact=function(t,e,n){if(16===e.group&&e.node.position.y<-150){var o=e.getComponent(m);o.isAwake&&o.sleep()}},n.onSelect=function(t){var e=this.ballLayout.getComponentsInChildren(l).findIndex((function(e){return e.string==t}));if(-1!==e){var n=this.ballLayout.children[e];n.getComponent(d).group=16,this.selectedList.push(n)}},n.onResetButtonClicked=function(){var t=this;this.selectedList.forEach((function(e){e.getComponent(m).wakeUp(),e.getComponent(d).group=t.defaultGroup,e.setPosition(b(-150,150),160)})),this.selectedList.length=0},n.onStartButtonClicked=function(){var t=this;this.unscheduleAllCallbacks();var e=1e3;this.schedule((function(){t.ballLayout.getComponentsInChildren(m).forEach((function(t){16!=t.getComponent(v).group&&t.applyForceToCenter(L(b(0,e)-500,b(5e3,9e3)),!0)}))}),1)},n.onStopButtonClicked=function(){this.unscheduleAllCallbacks()},e}(p)).prototype,"ballLayout",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=z(K.prototype,"startNum",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),H=K))||H);t._RF.pop(),t._RF.push({},"b0525FzmP9FmI7IJ091Tkz5","CircularNodePlacement",void 0);var rt,lt,st,at,ct,ut,ht,pt=e.ccclass,gt=e.property;Z=(0,e.executeInEditMode)(!0),Q=gt(g),pt($=Z((et=z((tt=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return N(e=t.call.apply(t,[this].concat(o))||this,"count",et,B(e)),e.size=void 0,e.collider=null,e}A(e,t);var n=e.prototype;return n.start=function(){this.size=this.getComponent(i).contentSize.x;var t=this.size/2;this.collider=this.getComponent(M)||this.addComponent(M),this.collider.points=[L(0,-t),L(-t,-t),L(-t,t),L(t,t),L(t,-t)],this.createCircularNodes(this.size,this.count)},n.createCircularNodes=function(t,e){for(var n=t/2,o=2*Math.PI/e,i=0;i<e;i++){var r=-Math.PI/2+i*o,l=n*Math.cos(r),s=n*Math.sin(r);this.collider.points.push(new T(l,s))}},e}(p)).prototype,"count",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 16}}),$=tt))||$);t._RF.pop(),t._RF.push({},"a32b8yG+hZLIIv36chxvu5E","LineNode",void 0);var dt,ft,Ct,mt,bt,vt,Lt,yt,Mt,Tt=e.ccclass,Et=e.property,St=(rt=Tt("LineNode"),lt=Et(n),st=Et(n),rt((ut=z((ct=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return N(e=t.call.apply(t,[this].concat(o))||this,"ballLayout",ut,B(e)),N(e,"ballPrefab",ht,B(e)),e._counter=0,e}A(e,t);var n=e.prototype;return n.start=function(){this.reset(!1)},n.reset=function(t){void 0===t&&(t=!0),t?this.ballLayout.children.forEach((function(t){E(t.getComponentInChildren(S).node).to(.25,{scale:I(.1,.1,.1)}).call((function(){return t.active=!1})).start()})):this.ballLayout.children.forEach((function(t){return t.active=!1})),this._counter=0},n.addNumber=function(t){var e=this.ballLayout.children[this._counter];e.active=!0,e.getComponentInChildren(l).string=t;var n=e.getComponentInChildren(S);n.node.scale=I(.1,.1,1),E(n.node).to(.25,{scale:I(1,1,1)}).start(),this._counter++},e}(p)).prototype,"ballLayout",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht=z(ct.prototype,"ballPrefab",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=ct))||at);t._RF.pop(),t._RF.push({},"d4c58NWoqdKHoP1lfcsHMs1","TubeNode",void 0);var It,wt,At,xt,Bt,Nt,zt,Dt,Pt=e.ccclass,_t=e.property,Ft=(dt=Pt("TubeNode"),ft=_t(n),Ct=_t(n),mt=_t(St),dt((Lt=z((vt=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return N(e=t.call.apply(t,[this].concat(o))||this,"ballLayout",Lt,B(e)),N(e,"ballPrefab",yt,B(e)),N(e,"line",Mt,B(e)),e}A(e,t);var n=e.prototype;return n.start=function(){},n.update=function(t){var e=this;this.ballLayout.children.forEach((function(t){t.position.y<-200&&(t.destroy(),e.line.addNumber(parseInt(t.getComponentInChildren(l).string,10)))}))},n.onSelect=function(t){var e=r(this.ballPrefab);e.parent=this.ballLayout;var n=e.getComponent(m);n.enabled=!0,n.angularVelocity=b(-6,6),e.getComponentInChildren(l).string=t},e}(p)).prototype,"ballLayout",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt=z(vt.prototype,"ballPrefab",[Ct],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mt=z(vt.prototype,"line",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bt=vt))||bt);t._RF.pop(),t._RF.push({},"f2b98Rc5sxPMqXU52i9V2PT","Main",void 0);var Rt=e.ccclass,kt=e.property;It=kt(it),wt=kt(Ft),At=kt(St),Rt((Nt=z((Bt=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return N(e=t.call.apply(t,[this].concat(o))||this,"circleList",Nt,B(e)),N(e,"tubeNode",zt,B(e)),N(e,"lineNode",Dt,B(e)),e}A(e,t);var n=e.prototype;return n.start=function(){var t=this;AnimateController.Input=function(e,n,o){return t.input(e,n,o)}},n.onDestroy=function(){w.stopAll()},n.input=function(t,e,n){var o=this;void 0===e&&(e=50),void 0===n&&(n=10),w.stopAll();var i=e/15,r=t.slice(0,15);this.circleList.forEach((function(t){return t.onStartButtonClicked()})),E(this.node).delay(i).call((function(){var t=r.shift();o.circleList.forEach((function(e){return e.onSelect(t)})),o.tubeNode.onSelect(t)})).union().repeat(15).call((function(){o.circleList.forEach((function(t){return t.onStopButtonClicked()}))})).delay(n).call((function(){o.lineNode.reset(),o.circleList.forEach((function(t){return t.onResetButtonClicked()}))})).start()},n.onStart=function(){var t=this;w.stopAll();var e=1,n=new Array(50).fill(0).map((function(t){return e++})).sort((function(){return Math.random()-.5})).slice(0,15);console.log(n),this.circleList.forEach((function(t){return t.onStartButtonClicked()})),this.scheduleOnce((function(){E(t.node).delay(1).call((function(){var e=n.shift();console.log(e),t.circleList.forEach((function(t){return t.onSelect(e)})),t.tubeNode.onSelect(e)})).union().repeat(15).call((function(){console.log("complete"),t.circleList.forEach((function(t){return t.onStopButtonClicked()}))})).delay(5).call((function(){t.lineNode.reset()})).delay(5).call((function(){t.circleList.forEach((function(t){return t.onResetButtonClicked()})),t.onStart()})).start()}),5)},e}(p)).prototype,"circleList",[It],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),zt=z(Bt.prototype,"tubeNode",[wt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dt=z(Bt.prototype,"lineNode",[At],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt=Bt));t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///main.js'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});